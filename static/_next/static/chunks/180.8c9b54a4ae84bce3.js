"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{82180:(e,r,t)=>{t.r(r),t.d(r,{PaymentCheckProvider:()=>d});var u=t(95155),s=t(12115),n=t(99776),c=t(22663),i=t(32280),a=t(98959),o=t(68513),l=t(41174);let d=e=>{let{children:r}=e,t=(0,n.jE)(),d=(0,s.useRef)(!1),f=a.O.get(),p=(null==f?void 0:f.paymentId)||null,{data:y,isSuccess:h}=(0,i.QD)(p,!!p);return(0,s.useEffect)(()=>{if(!h||!y||d.current)return;let e=y.status;"success"===e?(c.Ay.success("Оплата прошла успешно! \uD83C\uDF89",{duration:5e3,position:"top-center"}),t.invalidateQueries({queryKey:[o.a$.checkAuth]}),t.invalidateQueries({queryKey:[l.U.getTariffs]}),a.O.remove(),d.current=!0):"closed"===e&&(c.Ay.error("Не удалось провести оплату. Попробуйте снова.",{duration:5e3,position:"top-center"}),a.O.remove(),d.current=!0)},[h,y,t]),(0,u.jsx)(u.Fragment,{children:r})}}}]);